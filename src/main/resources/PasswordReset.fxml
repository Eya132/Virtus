<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.paint.Color?>
<?import javafx.scene.effect.Glow?>
<?import javafx.scene.effect.BlurType?>
<?import javafx.scene.effect.InnerShadow?>
<?import javafx.scene.effect.Lighting?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>

<VBox fx:id="root" alignment="CENTER" spacing="20" xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1" fx:controller="edu.pidev3a8.controllers.Auth.PasswordResetController" style="-fx-background-color: linear-gradient(to bottom right, #f0f0f0, #d9d9d9);" stylesheets="@css/style3.css">
    <Label text="Réinitialisation de mot de passe" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #333; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 10, 0.5, 0, 1);"/>
    <Label text="Entrez votre adresse e-mail pour recevoir un token de réinitialisation :" fx:id="emailLabel" style="-fx-text-fill: #555; -fx-font-size: 16px;"/>
    <TextField fx:id="emailField" promptText="Adresse e-mail" style="-fx-pref-width: 350px; -fx-padding: 12px; -fx-font-size: 14px; -fx-background-radius: 8px; -fx-border-radius: 8px; -fx-border-color: #ccc; -fx-border-width: 1px; -fx-effect: innershadow(gaussian, rgba(0,0,0,0.1), 5, 0.5, 0, 1);"/>
    <Button text="Demander un token" onAction="#handleRequestToken" style="-fx-background-color: linear-gradient(to bottom right, #4CAF50, #45a049); -fx-text-fill: white; -fx-padding: 12px 24px; -fx-font-size: 16px; -fx-background-radius: 8px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0.5, 0, 2); -fx-cursor: hand;"/>
    <Label text="Entrez le token reçu par e-mail :" fx:id="tokenLabel" style="-fx-text-fill: #555; -fx-font-size: 16px;" visible="false"/>
    <TextField fx:id="tokenField" promptText="Token" style="-fx-pref-width: 350px; -fx-padding: 12px; -fx-font-size: 14px; -fx-background-radius: 8px; -fx-border-radius: 8px; -fx-border-color: #ccc; -fx-border-width: 1px; -fx-effect: innershadow(gaussian, rgba(0,0,0,0.1), 5, 0.5, 0, 1);" visible="false"/>
    <Button text="Vérifier le token" onAction="#handleVerifyToken" fx:id="verifyTokenButton" style="-fx-background-color: linear-gradient(to bottom right, #008CBA, #007B9E); -fx-text-fill: white; -fx-padding: 12px 24px; -fx-font-size: 16px; -fx-background-radius: 8px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0.5, 0, 2); -fx-cursor: hand;" visible="false"/>
    <Label text="Entrez votre nouveau mot de passe :" fx:id="newPasswordLabel" style="-fx-text-fill: #555; -fx-font-size: 16px;" visible="false"/>
    <TextField fx:id="newPasswordField" promptText="Nouveau mot de passe" style="-fx-pref-width: 350px; -fx-padding: 12px; -fx-font-size: 14px; -fx-background-radius: 8px; -fx-border-radius: 8px; -fx-border-color: #ccc; -fx-border-width: 1px; -fx-effect: innershadow(gaussian, rgba(0,0,0,0.1), 5, 0.5, 0, 1);" visible="false"/>
    <Button text="Réinitialiser le mot de passe" onAction="#handleResetPassword" fx:id="resetPasswordButton" style="-fx-background-color: linear-gradient(to bottom right, #FF5722, #E64A19); -fx-text-fill: white; -fx-padding: 12px 24px; -fx-font-size: 16px; -fx-background-radius: 8px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0.5, 0, 2); -fx-cursor: hand;" visible="false"/>
    <Label fx:id="errorMessage" textFill="RED" visible="false" style="-fx-font-size: 14px; -fx-effect: dropshadow(gaussian, rgba(255,0,0,0.2), 5, 0.5, 0, 1);"/>
</VBox>